import{r as c,C as $,G as w,H as O,o as u,e as f,f as b,h as B,T as A,i as d,u as o,I as C,J as M,A as N,F as L,K as R,m as U,L as T,c as V}from"./entry.914839d6.js";import{_ as F}from"./logo.99dbbd09.js";import{_ as P}from"./OfferComponent.b91c0610.js";import{u as D}from"./useApi.e5ddf1cd.js";import"./functions.8ad8cc5d.js";const E=""+new URL("baby.89493ca1.png",import.meta.url).href,G=""+new URL("blog.e82670f6.png",import.meta.url).href,H=""+new URL("geral.77d670a8.png",import.meta.url).href,J=["src","alt"],K={__name:"Banner",setup(g){const p=(l,r)=>{let i=null,n=!1,_=0;return{start:()=>{i=setInterval(()=>{n||(_++,_===r&&(l(),_=0))},1e3)},stop:()=>clearInterval(i),pause:()=>n=!0,resume:()=>n=!1}},m=l=>Object.assign({"/assets/banners/baby.png":E,"/assets/banners/blog.png":G,"/assets/banners/geral.png":H,"/assets/logo.png":F})[`/assets/banners/${l}.png`],a=[{name:"geral",href:"https://join.promohub.com.br/geral"},{name:"baby",href:"https://join.promohub.com.br/baby"},{name:"blog",href:"https://promohub.com.br/blog"}],t=c(0),e=$(()=>a[t.value]),s=p(()=>t.value=(t.value+1)%a.length,5);return w(()=>s.start()),O(()=>s.stop()),(l,r)=>{const i=C;return u(),f("div",{class:"m-4",onMouseover:r[0]||(r[0]=(...n)=>o(s).pause&&o(s).pause(...n)),onMouseleave:r[1]||(r[1]=(...n)=>o(s).resume&&o(s).resume(...n))},[b(i,{to:o(e).href,target:"_blank"},{default:B(()=>[b(A,null,{default:B(()=>[d("div",null,[d("img",{class:"sm:w-[1680px] sm:rounded-3xl sm:h-fit",src:m(o(e).name),alt:o(e).name},null,8,J)])]),_:1})]),_:1},8,["to"])],32)}}},Q={__name:"Observer",props:{options:{type:Object,default:()=>({})}},emits:["intersecting"],setup(g,{emit:p}){const m=g,a=c(null),t=c(null);return w(()=>{t.value=new IntersectionObserver(([e])=>{e&&e.isIntersecting&&p("intersecting")},m.options),t.value.observe(a.value)}),O(()=>{t.value.disconnect()}),(e,v)=>(u(),f("div",{ref_key:"observable",ref:a},null,512))}},q={class:"flex flex-row flex-wrap sm:gap-5 gap-7 sm:p-10 p-2 justify-center"},z=d("div",{class:"text-xs text-gray-400 bg-white w-full p-4 fixed bottom-0"}," Quando voc\xEA compra por meio de links em nosso site podemos ganhar uma comiss\xE3o de afiliados sem nenhum custo para voc\xEA. ",-1),S={key:0,class:"w-4 h-4 border-b-2 border-white rounded-full animate-spin"},te={__name:"index",setup(g){const p=M(),m=D(),a=c([]),t=c({}),e=c(1),v=c({root:null,rootMargin:"0px",threshold:.8}),{data:s,loading:l,error:r,fetchData:i}=m("/api/offers"),n=async({append:h})=>{await T(async()=>{try{await i({params:{page:e.value,perPage:p.public.perpage,sortBy:"createdAt",filter:["status::ne::false"]}}),a.value=h?a.value.concat(s.value.offers):s.value.offers,t.value=s.value.pagination}catch(x){console.error(x)}})},_=()=>{t.value.totalPages>e.value&&!l.value&&(console.log("intersecting"),e.value++)};return w(async()=>{await n({append:!1})}),N(e,async()=>{await n({append:!0})}),(h,x)=>{const y=K,I=P,j=Q;return u(),f(L,null,[b(y),d("div",q,[(u(!0),f(L,null,R(o(a),k=>(u(),V(I,{key:k.id,offer:k},null,8,["offer"]))),128))]),z,b(j,{onIntersecting:_,options:o(v)},null,8,["options"]),o(l)?(u(),f("div",S)):U("",!0)],64)}}};export{te as default};